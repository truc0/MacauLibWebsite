<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <!-- for structure -->
    <link rel="stylesheet" href="./static/foundation.min.css">
    <link rel="stylesheet" href="style.css">
    <!-- for slider -->
    <link rel="stylesheet" href="./static/dist/css/swiper.min.css">
    <!-- for font -->
    <link href="https://fonts.googleapis.com/css?family=Spirax" rel="stylesheet"> 
    <title>首頁 | 澳門公共圖書館</title>
    <style> 
        .dropdown-show {
            display: block;
        }
    /* for swiper */
        html, body {
          position: relative;
          height: 100%;
        }
        body {
            background: whitesmoke; /* #eee */
            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
            font-size: 14px;
            color:#000;
            margin: 0;
            padding: 0em;
            overflow-x: hidden;
        }
        main {
            padding-left: 5%;
            padding-right: 5%;
        }
        .swiper-container {
          width: 100%;
          height: 100%;
        }
        .swiper-slide {
          text-align: center;
          font-size: 18px;
          background: #fff;
          /* Center slide text vertically */
          display: -webkit-box;
          display: -ms-flexbox;
          display: -webkit-flex;
          display: flex;
          -webkit-box-pack: center;
          -ms-flex-pack: center;
          -webkit-justify-content: center;
          justify-content: center;
          -webkit-box-align: center;
          -ms-flex-align: center;
          -webkit-align-items: center;
          align-items: center;
        }
    </style>
</head>
<body>
    <header class="row">
        <button class="menu-btn columns small-2" data-effect="st-effect-1"><img src="./src/icon/menu.png" alt="菜單"></button>
        </div>
        <div class="logo-box columns small-8">
            <a href="#"><h1>Macau Public Library</h1></a>
        </div>
        <div class="sign-in columns small-2">
            <a href="#">
                登入
            </a>
        </div> 
    </header>

    <main>
        <section class="random-lib row">
            <div class="ava columns small-12 medium-6">
                <img src="./src/img/lib-hoyin.jpg" alt="何賢公園圖書館之外觀圖片">
            </div>
            <div  class="lib-intro columns small-12 medium-6" style="text-align:center">
                <p>於1993年對外開放，2005年為了配合新口岸區的重整計劃暫停開放，重建後於2009年2月10日再次投入服務。</p>
                <p>新館總面積為368平方米，同樣位於何賢公園內，共有兩層，第一層為閱報區及影音資料區，第二層為閱覽室。藏書12,473冊，影音資料80件，各地報紙52種，各類雜誌147種，閱覽座位75個。</p>
            </div>
        </section>

        <section class="notice-board row">
            <div class="notice-icon columns small-2">
                <img src="./src/icon/notice.png" alt="通知">
            </div>
            <div class="notices columns small-10">
                <div class="notice-swiper swiper-container">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide"> 文化局公共圖書館開辦“圖書館e學堂”課程 </div>
                        <div class="swiper-slide"> 文化局公共圖書館《城與書》第十五期出版 </div>
                        <div class="swiper-slide"> “何東圖書館六十周年慶”活動下月舉行 </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- <section class="search-box row">
            <select name="kind-of-search" id="search-kind" class="columns small-3" style="margin-bottom:0px;"></select>
            <select name="" id="" class="columns small-3" style="margin-bottom:0px;"></select>
            <input type="text" placeholder="" class="columns small-4" style="margin:0px;">
            <div class="columns small-1">
                <a href="#"><img src="./src/icon/search.png" alt="搜尋"></a>
            </div>
        </section> -->

        <div class="find-lib">
            <a href="javascript:findLibNearBy()">Find the nearby Library</a>
            <div id="map"></div>
        </div>

        <section class="book-recommand row columns">
                <a href="#"><h2>Recommand</h2></a>
                <div class="row">
                    <div class="columns small-6">
                        <img src="./src/img/book-1.jpg" alt="驚人習慣力之封面圖片">
                    </div>
                    <div class="columns small-6">
                        <p>驚人習慣力 : 做一下就好!微不足道的小習慣創造大奇蹟</p>
                        <p>編著者： &emsp;&emsp; Guise, Stephen</p>
                    </div>
                </div>
        </section>
        
        <section class="slide-img row columns">
            <div class="post-swiper swiper-container">
                <div class="swiper-wrapper">
                    <div class="swiper-slide"><img src="./src/img/new-center-lib.png" alt="新澳門中央圖書館計劃"></div>
                    <div class="swiper-slide"><img src="./src/img/slider-img-2.jpg" alt="惠民利民，共建共享系列"></div>
                    <div class="swiper-slide"><img src="./src/img/slider-img-3.jpg" alt="澳門文化出版物外地發行計劃"></div>
                    <div class="swiper-slide"><img src="./src/img/slider-img-4.jpg" alt="澳門公共圖書館實施延長及調整開放時間"></div>
                </div>
                <div class="post-swiper-pagination"></div>
            </div>
        </section>
    </main>

    <nav class="detail-info">
        <h2>導航欄</h2>
        <div class="lib-list dropdown-menu">
            <h3>圖書館</h3>
            <div class="lib-area dropdown-menu dropdown-hidden">
                <button class="lib-area-item"><h4>澳門中區</h4></button>
                <div href="#" class="lib-item dropdown-content dropdown-hidden">澳門中央圖書館</div>
                <div href="#" class="lib-item dropdown-content dropdown-hidden">何賢公園圖書館</div>
            </div>
            <div class="lib-area dropdown-menu dropdown-hidden">
                <button class="lib-area-item"><h4>澳門南區</h4></button>
                <div href="#" class="lib-item dropdown-content dropdown-hidden">何東圖書館</div>
                <div href="#" class="lib-item dropdown-content dropdown-hidden">下環圖書館</div>
            </div>
            <div class="lib-area dropdown-menu dropdown-hidden">
                <button class="lib-area-item"><h4>澳門西區</h4></button>
                <div href="#" class="lib-item dropdown-content dropdown-hidden">沙梨頭圖書館</div>
                <div href="#" class="lib-item dropdown-content dropdown-hidden">紅街市圖書館</div>
                <div href="#" class="lib-item dropdown-content dropdown-hidden">白鴿巢公園黃營均圖書館</div>
            </div>
            <div class="lib-area dropdown-menu dropdown-hidden">
                <button class="lib-area-item"><h4>澳門北區</h4></button>
                <div href="#" class="lib-item dropdown-content dropdown-hidden">青州圖書館</div>
                <div href="#" class="lib-item dropdown-content dropdown-hidden">望廈圖書館</div>
                <div href="#" class="lib-item dropdown-content dropdown-hidden">紀念孫中山公園黃營均圖書館</div>
                <div href="#" class="lib-item dropdown-content dropdown-hidden">黑沙環黃營均圖書館</div>
                <div href="#" class="lib-item dropdown-content dropdown-hidden">黑沙環黃營均兒童圖書館</div>
            </div>
            <div class="lib-area dropdown-menu dropdown-hidden">
                <button class="lib-area-item"><h4>離島區</h4></button>
                <div href="#" class="lib-item dropdown-content dropdown-hidden">氹仔圖書館</div>
                <div href="#" class="lib-item dropdown-content dropdown-hidden">氹仔黃營均圖書館</div>
                <div href="#" class="lib-item dropdown-content dropdown-hidden">路環圖書館</div>
            </div>
            <div class="lib-area dropdown-content dropdown-hidden">
                <a><h4>流動圖書車</h4></a>
            </div>
            <div class="lib-area dropdown-content dropdown-hidden">
                <a><h4>專門圖書館</h4></a>
            </div>
        </div>
        <div class="links">
            <button class="links-title"><h3>捷徑/鏈接</h3></button> 
            <div href="https://webpac.library.gov.mo/client/zh_TW/webpac" class="links-item dropdown-content dropdown-hidden">館藏目錄</div>
            <div href="https//www.library.gov.mo/zh-hant/service-guide/opinion" class="links-item dropdown-content dropdown-hidden">發表意見</div>
            <div href="https//www.library.gov.mo/zh-hant/new-library" class="links-item dropdown-content dropdown-hidden">新澳門中央圖書館計劃</div>
            <div href="http://isbn.library.gov.mo/zh/" class="links-item dropdown-content dropdown-hidden">ISBN中心</div>
            <div href="https://www.facebook.com/BibliotecaCentraldeMacau/" class="links-item dropdown-content dropdown-hidden">澳門公共圖書館 Facebook</div>
        </div>
    </nav>

    <footer class="row">
        <div class="columns small-12 medium-6">
                <a href="https://www.library.gov.mo/zh-hant"><img src="./src/logo/logo-1.png" alt="the logo of Macau Public Library"></a>
        </div>
        <div class="columns small-12 medium-6">
                <a href="http://www.icm.gov.mo/welcome"><img src="./src/logo/logo-2.png" alt="the logo of ..."></a>
        </div>
        <p>This page is made by bill, 2018-09</p>
    </footer>

    <script>
        /* this is for the dropdown menu */
        var nowSelectedDropdown = null;
        function closeAllDropdown(ele) {
            console.log(ele);
            var dropdownList = document.querySelectorAll('.dropdown-menu');
            dropdownList.forEach(function (value) {
                let eleList = value.children;
                console.log(1)
                console.log(value)
                if (!(ele === value)) {
                    for (let index in eleList) {
                        let eleInList = eleList[index];
                        if (isNaN(index)) {continue}
                        if (! eleInList.classList.contains('dropdown-hidden')) {
                            eleInList.classList.add('dropdown-hidden')
                        } else {
                            console.log('this element has already had dropsown-hidden class')
                        }
                    }   
                }
            })
        }

        function openDropdown(ele) {
            dropdownContent = ele.children;
            console.log(dropdownContent)
            for (let index in dropdownContent) {
                if (isNaN(index)) {continue;}
                /**
                if (!dropdownContent[index].classList.contains('dropdown-hidden')) {
                    if (!dropdownContent[index].classList.contains('lib-area-item')) {
                        // console.log('Error: this element has already had the class dropdown-show')
                    }
                } else {
                    dropdownContent[index].classList.remove('dropdown-hidden');
                }
                */
               if (dropdownContent[index].classList.contains('dropdown-menu') || dropdownContent[index].classList.contains('dropdown-content'))
               dropdownContent[index].classList.toggle('dropdown-hidden')
            }
        }

        window.onclick = function (event) {
            var ele = event.target;
            ele = ele.parentNode;
            // console.log(ele)
            if (nowSelectedDropdown !== ele) {
                nowSelectedDropdown = ele;
                // closeAllDropdown(ele);
                openDropdown(ele)
            } else {
                // closeAllDropdown(ele.parentNode);
                nowSelectedDropdown = ele.parentNode.classList.contains('dropdown-menu') ? ele.parentNode : null;
            }
        }
    </script>
    <script src="./static/dist/js/swiper.min.js"></script>
    <!-- <script>
        var map;
        function initMap() {
            map = new google.maps.Map(document.getElementById('map'), {
                center: {lat: 113.5, lng: 22.5},
                zoom: 6
            });
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function (position) {
                    var pos = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };
                    map.setCenter(pos)
                })
            } else {
                alert('Your Browser cannot support this')
            }
        }
    </script> -->
    <!-- <script async defer
    src="https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=23.5,22.5&radius=1500&type=library&keyword=cruise&key=AIzaSyB-U79i5IIO2nd7rtOqmW9irgX8uuAkYr8">
    </script> -->
    <script>
        /* this is for slider */
        var swiper = new Swiper('.notice-swiper', {
            spaceBetween: 0,
            centeredSlides: true,
            loop: true,
            // autoplay: {
            //     delay: 3000
            // },
        });
        var swiper = new Swiper('.post-swiper', {
            spaceBetween: 0,
            centeredSlides: true,
            loop: true,
            pagination: {
                el: '.post-swiper-pagination',
                dynamicBullets: false
            }
        })
    </script>
</body>
</html>